@model BoardGameWui.Models.GameSession
@{
    Layout = "~/Views/Shared/_Game.cshtml";
    ViewBag.Title = "Tic-Tac-Toe game";
}

@if (TempData["notice"] != null)
{
    <h4>@Html.Raw(TempData["notice"])</h4>
}

<h2>@ViewBag.Title</h2>
<p>
    Welcome to my Tic-Tac-Toe game! Play below and try get three in a row!<br /><br />
    You need to play the game on the same computer; use two different browsers and play on one browser each.<br />
    Update the game by refreshing the site (F5).<br />
</p>

<input type="button" value="Leave game" onclick="location.href='@Url.Action("LeaveGame", Model)'" />
<input type="button" value="Reset game" onclick="location.href='@Url.Action("ResetGame")'" /><br /><br />
@for (int i = 0; Model.GameTiles.Length > i; i++)
{
    if (Model.GameTiles[i].Mark.Equals(""))
    {
        <input type="button" class="boardbutton" value="&nbsp" onclick="location.href='@Url.Action("PickTile", new { @session = Model, @index = i })'" />
    }
    else
    {
        <input type="button" class="boardbutton" value=@Model.GameTiles[i].Mark />
    }
    if ((i + 1) % 3 == 0)
    {
        <br />
    }
}